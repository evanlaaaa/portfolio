(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{2032:function(e,r,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/barter",function(){return l(3016)}])},3016:function(e,r,l){"use strict";l.r(r),l.d(r,{default:function(){return v}});var t=l(5893),a=l(6979),s=l(3100),o=l(7754),n=l(4418),c=l(204),i=l(634),d=l(8570),x=l(4416),h=l(8911),g=l(4804),u=l(9222),j=l(8129),f=l(9008),p=l.n(f),m=l(7294);let b=e=>{let{title:r,value:l,callback:a}=e;return(0,t.jsxs)(c.k,{alignItems:"center",justifyContent:"center",flexWrap:"wrap",w:"full",children:[(0,t.jsx)(s.xu,{children:(0,t.jsx)(h.x,{color:"gray.500",fontWeight:"semibold",pr:"5",children:r})}),(0,t.jsx)(s.xu,{flex:"1",children:(0,t.jsx)(j.I,{value:l,onChange:a})})]})},k=()=>{let e=["book","candle-t4","chest","dagger","dragon-head","egg","green","helmet","key","lava","purple","shell","spear","tong"],[r,l]=(0,m.useState)(14.61),[f,k]=(0,m.useState)(100),[v,S]=(0,m.useState)(70),[y,W]=(0,m.useState)(0),[N,w]=(0,m.useState)(0),[_,I]=(0,m.useState)(20),[C,E]=(0,m.useState)(Array(14).fill(0)),[M,z]=(0,m.useState)(Array(14).fill(!1)),[X,A]=(0,m.useState)(0);(0,m.useEffect)(()=>{var e,r,t,a,s,o,n;l(null!==(e=Number(localStorage.getItem("parley")))&&void 0!==e?e:14.61),k(null!==(r=Number(localStorage.getItem("hakt")))&&void 0!==r?r:100),S(null!==(t=Number(localStorage.getItem("margot")))&&void 0!==t?t:70),W(null!==(a=Number(localStorage.getItem("hakoven_trade")))&&void 0!==a?a:0),w(null!==(s=Number(localStorage.getItem("margo_trade")))&&void 0!==s?s:0),I(null!==(o=Number(localStorage.getItem("t4stockt")))&&void 0!==o?o:0),E(JSON.parse(null!==(n=localStorage.getItem("stock"))&&void 0!==n?n:JSON.stringify(Array(14).fill(0))))},[]);let O=(e,r,t)=>{let{value:a}=e.target;if(!isNaN(a))switch("stock"!=r&&localStorage.setItem(r,a),r){case"parley":l(a);break;case"hakt":k(a);break;case"margot":S(a);break;case"hakoven_trade":W(a);break;case"margo_trade":w(a);break;case"t4stockt":I(a);break;case"stock":let s=[...C];s[t]=a,localStorage.setItem(r,JSON.stringify(s)),E(s)}},J=(e,r)=>{let l=[...M];l[r]=!l[r],z(l)},R=e=>{let r=[...C];for(var l=0;l<C.length;l++)M[l]&&(r[l]=r[l]-4,C[l]-4<_&&(r[l]=r[l]+12));localStorage.setItem("stock",JSON.stringify(r)),W(0),w(0),E(r),z(Array(14).fill(!1))};return(0,m.useEffect)(()=>{for(var e=0,l=0,t=0;t<M.length;t++)M[t]&&(e++,C[t]-4<_&&l++);A(1e6-(y>=f?43780-43780*r/100+(29430-29430*r/100)*2+(36420-36420*r/100):0)-(1250*v/100<=N?(46544-46544*r/100)*3+(58180-58180*r/100)*4:0)-e*(14286-14286*r/100)*4-l*(14286-14286*r/100)*6)},[M,y,N,C,f,v,r,_]),(0,t.jsxs)("div",{children:[(0,t.jsx)(p(),{children:(0,t.jsx)("title",{children:"Wai Choon | Barter"})}),(0,t.jsx)("main",{children:(0,t.jsxs)(a.W,{height:"100vh",maxW:"container.lg",children:[(0,t.jsx)(s.xu,{bgGradient:"linear(to-r, blue.200, teal.500)",p:"4",children:(0,t.jsx)(o.M,{children:(0,t.jsx)(n.X,{color:"whiteAlpha.900",size:"md",fontWeight:"semibold",children:"BDO Barter t4 stock & parley management"})})}),(0,t.jsxs)(c.k,{children:[(0,t.jsxs)(i.g,{flex:"8",p:"5",alignItems:"flex-start",spacing:"5",bg:"white",children:[(0,t.jsx)(b,{title:"Parley discount (%):",callback:e=>O(e,"parley"),value:r}),(0,t.jsxs)(c.k,{flexWrap:"wrap",w:"full",children:[(0,t.jsx)(s.xu,{flex:"1",pr:"4",children:(0,t.jsx)(b,{title:"Hakoven threshold (last trade):",callback:e=>O(e,"hakt"),value:f})}),(0,t.jsx)(s.xu,{flex:"1",children:(0,t.jsx)(b,{title:"Margo run threshold (%):",callback:e=>O(e,"margot"),value:v})})]}),(0,t.jsxs)(c.k,{flexWrap:"wrap",w:"full",children:[(0,t.jsx)(s.xu,{flex:"1",pr:"4",children:(0,t.jsx)(b,{title:"Hakoven (last trade):",callback:e=>O(e,"hakoven_trade"),value:y})}),(0,t.jsx)(s.xu,{flex:"1",children:(0,t.jsx)(b,{title:"Margo:",callback:e=>O(e,"margo_trade"),value:N})})]}),(0,t.jsx)(b,{title:"T4 Restock threshold:",callback:e=>O(e,"t4stockt"),value:_}),(0,t.jsx)(n.X,{color:"gray.700",size:"md",fontWeight:"semibold",children:"Check items for t5s:"}),(0,t.jsx)(c.k,{flexWrap:"wrap",children:e.map((e,r)=>(0,t.jsxs)(s.xu,{border:"1px",borderColor:"gray.200",p:"4",m:"2",children:[(0,t.jsx)(d.X,{value:M[r],position:"absolute",ml:"-6",bg:"white",onChange:e=>J(e,r)}),(0,t.jsx)(x.E,{alt:e,boxSize:"40px",src:"bdo/"+e+".png"})]},r))}),(0,t.jsx)(n.X,{color:"gray.700",size:"md",fontWeight:"semibold",children:"Result:"}),(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["Hakoven run: ",(0,t.jsx)(h.x,{as:"span",color:y>=f?"green.400":"red.400",pl:"2.5",children:y>=f?"Yes":"No"})]}),(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["Margo run: ",(0,t.jsx)(h.x,{as:"span",color:1250*v/100<=N?"green.400":"red.400",pl:"2.5",children:1250*v/100<=N?"Yes":"No"})]}),(0,t.jsx)(n.X,{color:"gray.700",size:"sm",fontWeight:"semibold",children:"Result after t5 trade:"}),(0,t.jsx)(c.k,{flexWrap:"wrap",children:e.map((e,r)=>(0,t.jsx)(s.xu,{border:"1px",borderColor:"gray.200",p:"4",m:"2",children:(0,t.jsxs)(g.U,{children:[(0,t.jsx)(x.E,{alt:e,boxSize:"40px",src:"bdo/"+e+".png"}),(0,t.jsx)(h.x,{color:M[r]?C[r]-4<_?"red.400":"green.400":C[r]<_?"red.400":"green.400",children:M[r]?C[r]-4:C[r]})]})},r))}),(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["Left over parley after above trade: ",(0,t.jsx)(h.x,{as:"span",color:"red.400",pl:"2.5",children:Math.trunc(X)})]}),(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["Remaining trade count: ",(0,t.jsx)(h.x,{as:"span",color:"red.400",pl:"2.5",children:Math.trunc(X/Math.trunc(14286-14286*r/100))})]}),X<0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["After using voucher: ",(0,t.jsx)(h.x,{as:"span",color:"red.400",pl:"2.5",children:Math.trunc(X+25e4)})]}),(0,t.jsxs)(h.x,{color:"gray.500",fontWeight:"semibold",children:["After using voucher count: ",(0,t.jsx)(h.x,{as:"span",color:"red.400",pl:"2.5",children:Math.trunc((X+25e4)/Math.trunc(14286-14286*r/100))})]})]}),(0,t.jsx)(u.z,{onClick:R,colorScheme:"teal",variant:"outline",children:"Set to stock"})]}),(0,t.jsx)(s.xu,{flex:"2",p:"5",children:(0,t.jsxs)(i.g,{spacing:"2",children:[(0,t.jsx)(n.X,{color:"gray.700",size:"md",fontWeight:"semibold",children:"T4 Stocks"}),e.map((e,r)=>(0,t.jsxs)(g.U,{children:[(0,t.jsx)(j.I,{value:C[r],onChange:e=>O(e,"stock",r)}),(0,t.jsx)(x.E,{alt:e,boxSize:"40px",src:"bdo/"+e+".png"})]},r))]})})]})]})})]})};var v=k}},function(e){e.O(0,[492,774,888,179],function(){return e(e.s=2032)}),_N_E=e.O()}]);